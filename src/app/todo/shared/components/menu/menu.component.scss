@import './../../../../../assets/scss/variables.scss';

@mixin media($breakpoint) {
	@media only screen and (max-width: $breakpoint) {
		@content;
	}
}

p,
figure,
ul {
	margin: 0;
	padding: 0;
}

.nav {
	width: max-content;
	// Para el height al 100vh le restamos el tama√±o del alto de toolbar para que cubra bien la pantalla
	min-height: calc(100vh - $toolbar-height);
	height: auto;
	background-color: $primary-color;
	padding: 0 5px;
	transition: left 0.5s;

	.nav-list {
		padding: 0;
		display: flex;
		flex-direction: column;

		.nav-item {
			display: grid;
			grid-template-columns: max-content 0fr;
			justify-content: center;
			align-items: center;
			color: white;
			transition: grid-template-columns 0.2s;
			border-radius: 5px;

			&:hover {
				background-color: $primary-hover-color;
				cursor: pointer;
			}

			&.active {
				background-color: $primary-active-color;
			}

			.nav-figure {
				display: flex;
				align-items: center;
				padding: 1rem;
			}

			.nav-show {
				overflow: hidden;
			}
		}

		.nav-item.nav-item-theme {
			margin-top: auto;

			.nav-figure {
				padding: 0 1rem;
			}
		}

		.nav-item.nav-item-user {
			position: relative;
			margin-top: 10px;

			&::after {
				content: '';
				position: absolute;
				height: 1px;
				width: 100%;
				top: -5px;
				background-color: white;
			}

			.nav-img.nav-img-avatar {
				width: 35px;
			}

			.nav-img-avatar {
				aspect-ratio: 1/1;
				object-fit: cover;
			}

			.nav-name-user {
				white-space: nowrap;
				padding-right: 1.2em;

				.nav-username {
					max-width: 140px;
					overflow: hidden;
					text-overflow: ellipsis;
				}
			}
		}
	}

	&:has(.nav-list.open) {
		position: absolute;

		.nav-item {
			grid-template-columns: max-content 1fr;

			&.nav-item-theme:hover {
				background-color: $primary-color;
				cursor: pointer;
			}
		}
	}
}

@include media($mobile-size) {
	.nav {
		width: 100%;
		position: absolute;
		left: -100%;

		.nav-list {
			width: 100%;

			.nav-item {
				grid-template-columns: max-content 1fr;

				.nav-show .nav-name {
					font-family: $font-family-mobile;
					letter-spacing: 0.4px;
					font-weight: 500;
					font-size: 16px;
				}
			}
		}

		&:has(.nav-list.open) {
			width: 100%;
			position: absolute;
			left: 0%;
		}
	}
}
